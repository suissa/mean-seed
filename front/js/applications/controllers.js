!function(e){"use strict";var r={removeItem:function(e,r){var o=e.indexOf(r);o>-1&&e.splice(o,1)},cbFindSuccess:function(e,r){r.beers=e.data,r.message="List complete",console.log(e)},cbFindError:function(e,r){r.status="Unable to load beers: "+e.message},cbCreateSuccess:function(e,r){r.beer=e.data,r.message="Beer "+r.beer.name+"  created successfully!"},cbCreateError:function(e,r){r.status="Unable to create beer: "+e.message},cbUpdateSuccess:function(e,r){r.message="Beer "+r.beer.name+"  update successfully!"},cbUpdateError:function(e,r){r.status="Unable to create beer: "+e.message},cbShowSuccess:function(e,r){console.log("Show: ",e),r.beer=e.data,r.message="Beer "+r.beer.name+"  retrieved successfully!"},cbShowError:function(e,r){r.status="Unable to retrieve beer: "+e.message}};e.module("myApp.modules.Beer.controllers",[]).controller("AppController",function(e,r){r({method:"GET",url:"/api/name"}).success(function(r){e.name=r.name}).error(function(){e.name="Error!"})}).controller("RemoveBeer",["$scope","$http","BeerService",function(e,o,n){var c=n;e.remove=function(o){confirm("Are you sure? Beer "+o.name+" will be removed.")&&c.remove(o).success(function(){r.removeItem(e.beers,o)}).error(function(r){e.status="Unable to load beers: "+r.message})}}]).controller("BeerCreateController",["$scope","$http","BeerService",function(e,o,n){var c=n;e.message="Fill the form bellow",e.create=function(o){c.create(o).then(function(o){r.cbCreateSuccess(o,e)},function(o){r.cbCreateError(o,e)})}}]).controller("BeerListController",["$scope","$http","BeerService",function(e,o,n){var c=n;c.find().then(function(o){r.cbFindSuccess(o,e)},function(o){r.cbFindError(o,e)})}]).controller("BeerShowController",["$scope","$http","$routeParams","$location","BeerService",function(e,o,n,c,t){var s=n.id;e.message="Show Beer";var u=t;u.findOne(s).then(function(o){r.cbShowSuccess(o,e)},function(o){r.cbShowError(o,e)}),e.remove=function(r){var n=r._id,t="api/beers/"+n,s="DELETE";o({url:t,method:s}).success(function(o){console.log(o),e.beer=o,e.message="Beer "+r.name+"removed successfully!",c.path("/beers")}).error(function(r){console.log(r),e.message="Beer cant be removed!"})}}]).controller("BeerEditController",["$scope","$http","$routeParams","BeerService",function(e,o,n,c){var t=n.id,s=c;s.findOne(t).then(function(o){r.cbShowSuccess(o,e)},function(o){r.cbShowError(o,e)}),e.update=function(o){s.update(o).then(function(o){r.cbUpdateSuccess(o,e)},function(o){r.cbUpdateError(o,e)})}}]).controller("BeerRemoveController",["$scope","$http","$routeParams",function(e,r,o){e.title="Workshop Be MEAN";var n="GET",c=o.id,t="/api/beers/_id/"+c;r({method:n,url:t}).success(function(r){e.beer=r,e.msg="About "+e.beer.name}).error(function(){e.msg="Error in get beer"}),e.remove=function(o){var n="DELETE",c="/api/beers/_id/"+o._id;console.log(c),confirm("Are you sure?")&&r({method:n,url:c}).success(function(){e.msg="Beer "+o.name+" deleted successfully"}).error(function(){e.msg="ERROR on DELETE"})}}])}(angular);