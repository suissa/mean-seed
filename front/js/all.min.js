!function(e){"use strict";e.module("myApp",["myApp.controllers","myApp.filters","myApp.services","myApp.directives"]).config(["$routeProvider","$locationProvider",function(e,r){e.when("/beers",{templateUrl:"expose/beers/list",controller:"BeerListController"}).when("/beers/create",{templateUrl:"expose/beers/create",controller:"BeerCreateController"}).when("/beers/:id",{templateUrl:"expose/beers/show",controller:"BeerShowController"}).when("/beers/:id/edit",{templateUrl:"expose/beers/edit",controller:"BeerEditController"}).when("/beers/:id/remove",{templateUrl:"expose/beers/remove",controller:"BeerRemoveController"}).otherwise({redirectTo:"/beers"}),r.html5Mode(!0)}])}(angular);
!function(t){"use strict";t.module("myApp.filters",[]).filter("interpolate",function(t){return function(n){return String(n).replace(/\%VERSION\%/gm,t)}})}(angular);
!function(e){"use strict";e.module("myApp.services",["myApp.modules.Beer.services"])}(angular);
!function(e){"use strict";e.module("myApp.controllers",["myApp.modules.Beer.controllers"])}(angular);
!function(t){"use strict";t.module("myApp.directives",[]).directive("appVersion",function(t){return function(e,i){i.text(t)}})}(angular);
!function(e){"use strict";var r={removeItem:function(e,r){var o=e.indexOf(r);o>-1&&e.splice(o,1)},cbFindSuccess:function(e,r){r.beers=e.data,r.message="List complete",console.log(e)},cbFindError:function(e,r){r.status="Unable to load beers: "+e.message},cbCreateSuccess:function(e,r){r.beer=e.data,r.message="Beer "+r.beer.name+"  created successfully!"},cbCreateError:function(e,r){r.status="Unable to create beer: "+e.message},cbUpdateSuccess:function(e,r){r.message="Beer "+r.beer.name+"  update successfully!"},cbUpdateError:function(e,r){r.status="Unable to create beer: "+e.message},cbShowSuccess:function(e,r){console.log("Show: ",e),r.beer=e.data,r.message="Beer "+r.beer.name+"  retrieved successfully!"},cbShowError:function(e,r){r.status="Unable to retrieve beer: "+e.message}};e.module("myApp.modules.Beer.controllers",[]).controller("AppController",["$scope","$http",function(e,r){r({method:"GET",url:"/api/name"}).success(function(r){e.name=r.name}).error(function(){e.name="Error!"})}]).controller("RemoveBeer",["$scope","$http","BeerService",function(e,o,n){var t=n;e.remove=function(o){confirm("Are you sure? Beer "+o.name+" will be removed.")&&t.remove(o).success(function(){r.removeItem(e.beers,o)}).error(function(r){e.status="Unable to load beers: "+r.message})}}]).controller("BeerCreateController",["$scope","$http","BeerService",function(e,o,n){var t=n;e.message="Fill the form bellow",e.create=function(o){t.create(o).then(function(o){r.cbCreateSuccess(o,e)},function(o){r.cbCreateError(o,e)})}}]).controller("BeerListController",["$scope","$http","BeerService",function(e,o,n){var t=n;t.find().then(function(o){r.cbFindSuccess(o,e)},function(o){r.cbFindError(o,e)})}]).controller("BeerShowController",["$scope","$http","$routeParams","$location","BeerService",function(e,o,n,t,c){var s=n.id;e.message="Show Beer";var u=c;u.findOne(s).then(function(o){r.cbShowSuccess(o,e)},function(o){r.cbShowError(o,e)}),e.remove=function(r){var n=r._id,c="api/beers/"+n,s="DELETE";o({url:c,method:s}).success(function(o){console.log(o),e.beer=o,e.message="Beer "+r.name+"removed successfully!",t.path("/beers")}).error(function(r){console.log(r),e.message="Beer cant be removed!"})}}]).controller("BeerEditController",["$scope","$http","$routeParams","BeerService",function(e,o,n,t){var c=n.id,s=t;s.findOne(c).then(function(o){r.cbShowSuccess(o,e)},function(o){r.cbShowError(o,e)}),e.update=function(o){s.update(o).then(function(o){r.cbUpdateSuccess(o,e)},function(o){r.cbUpdateError(o,e)})}}]).controller("BeerRemoveController",["$scope","$http","$routeParams",function(e,r,o){e.title="Workshop Be MEAN";var n="GET",t=o.id,c="/api/beers/_id/"+t;r({method:n,url:c}).success(function(r){e.beer=r,e.msg="About "+e.beer.name}).error(function(){e.msg="Error in get beer"}),e.remove=function(o){var n="DELETE",t="/api/beers/_id/"+o._id;console.log(t),confirm("Are you sure?")&&r({method:n,url:t}).success(function(){e.msg="Beer "+o.name+" deleted successfully"}).error(function(){e.msg="ERROR on DELETE"})}}])}(angular);
!function(e){"use strict";e.module("myApp.modules.Beer.services",[]).value("version","0.1").service("BeerService",["$http",function(e){var t="api/beers";this.find=function(){return e.get(t)},this.findOne=function(i){return e.get(t+"/_id/"+i)},this.create=function(i){return e.post(t,i)},this.update=function(i){return e.put(t+"/_id/"+i._id,i)},this.remove=function(i){return e.delete(t+"/_id/"+i._id,i)}}])}(angular);